{
  "sections": [
    {
      "id": "overview",
      "title": "üìö System Overview",
      "content": [
        {
          "type": "paragraph",
          "text": "MIS Barangay is a comprehensive Management Information System designed for barangay administration. This system provides efficient management of residents, certificates, blotter cases, officers, and administrative tasks."
        },
        {
          "type": "card",
          "title": "System Features",
          "content": "The system includes the following main features:\n\n‚Ä¢ **Resident Management** - Complete resident database with detailed information\n‚Ä¢ **Certificate Management** - Generate and track barangay certificates\n‚Ä¢ **Blotter System** - Incident reporting and case management for Tanod\n‚Ä¢ **Staff & Officers Management** - Unified system for managing staff and officers\n‚Ä¢ **Dashboard Analytics** - Role-based dashboards with statistics\n‚Ä¢ **User Management** - Admin control over user accounts and roles"
        }
      ]
    },
    {
      "id": "user-roles",
      "title": "üë• User Roles & Access Control",
      "content": [
        {
          "type": "paragraph",
          "text": "The system implements role-based access control (RBAC) with three main roles:"
        },
        {
          "type": "card",
          "title": "Admin Role",
          "content": "**Full System Access**\n\n‚úÖ Dashboard (all statistics)\n‚úÖ Resident Management\n‚úÖ Certificate Management\n‚úÖ Blotter System\n‚úÖ Staff & Officers Management\n‚úÖ User/Staff Management\n‚úÖ Profile Settings"
        },
        {
          "type": "card",
          "title": "Staff Role",
          "content": "**Administrative Access**\n\n‚úÖ Dashboard (resident statistics)\n‚úÖ Resident Management\n‚úÖ Certificate Management\n‚úÖ Staff & Officers Management\n‚úÖ Profile Settings\n\n‚ùå Cannot access: Blotter System, User Management"
        },
        {
          "type": "card",
          "title": "Tanod Role",
          "content": "**Security Personnel Access**\n\n‚úÖ Dashboard (blotter statistics)\n‚úÖ Blotter System\n‚úÖ Profile Settings\n\n‚ùå Cannot access: Resident Management, Certificate Management, Staff & Officers Management, User Management"
        }
      ]
    },
    {
      "id": "resident-management",
      "title": "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Resident Management",
      "content": [
        {
          "type": "paragraph",
          "text": "Complete resident database management system for tracking all barangay residents."
        },
        {
          "type": "card",
          "title": "Features",
          "content": "‚Ä¢ **Add New Residents** - Register new residents with complete information\n‚Ä¢ **View Resident List** - DataTable with search, sort, and filter capabilities\n‚Ä¢ **View Resident Details** - Detailed information page for each resident\n‚Ä¢ **Edit Resident Information** - Update resident records\n‚Ä¢ **Resident Search** - Quick search functionality"
        },
        {
          "type": "card",
          "title": "Resident Information Fields",
          "content": "‚Ä¢ Personal Information: First Name, Middle Name, Last Name, Suffix\n‚Ä¢ Demographics: Gender, Birthdate, Age (auto-calculated), Civil Status\n‚Ä¢ Contact: Address, Contact Number\n‚Ä¢ Additional: Religion, Occupation, Citizenship\n‚Ä¢ Status: Voter Status, Disability Status (PWD)"
        },
        {
          "type": "card",
          "title": "Dashboard Statistics",
          "content": "Resident data is used to generate dashboard statistics:\n\n‚Ä¢ Total Population Count\n‚Ä¢ Male/Female Breakdown\n‚Ä¢ Senior Citizens (60+ years)\n‚Ä¢ Persons with Disabilities (PWD)\n‚Ä¢ Registered/Unregistered Voters\n\nAll statistics are clickable and show filtered data in interactive dialogs."
        }
      ]
    },
    {
      "id": "certificate-management",
      "title": "üìÑ Certificate Management",
      "content": [
        {
          "type": "paragraph",
          "text": "System for managing barangay certificate requests and generation."
        },
        {
          "type": "card",
          "title": "Certificate Types",
          "content": "The system supports three types of certificates:\n\n‚Ä¢ **Barangay Clearance** - General clearance certificate\n‚Ä¢ **Indigency Certificate** - For indigent residents\n‚Ä¢ **Residency Certificate** - Proof of residency"
        },
        {
          "type": "card",
          "title": "Features",
          "content": "‚Ä¢ **Search Residents** - Quick search to find residents for certificate requests\n‚Ä¢ **Create Certificate Request** - Submit new certificate requests with purpose\n‚Ä¢ **View Request History** - Track all certificate requests for each resident\n‚Ä¢ **Print Certificates** - Print certificates with official templates\n‚Ä¢ **Status Management** - Track certificate status (Pending, Printed, Approved, Rejected)"
        },
        {
          "type": "card",
          "title": "Certificate Printing",
          "content": "‚Ä¢ Print-ready certificate templates\n‚Ä¢ Auto-filled resident information\n‚Ä¢ Official barangay letterhead format\n‚Ä¢ Signature sections for barangay officials\n‚Ä¢ Automatic status update to 'Printed' after printing"
        }
      ]
    },
    {
      "id": "blotter-system",
      "title": "üìù Blotter System",
      "content": [
        {
          "type": "paragraph",
          "text": "Incident reporting and case management system exclusively for Tanod (Barangay Security) personnel."
        },
        {
          "type": "card",
          "title": "Features",
          "content": "‚Ä¢ **Add Blotter Cases** - Record new incidents with complete details\n‚Ä¢ **View All Cases** - DataTable listing all blotter cases\n‚Ä¢ **Case Details** - Comprehensive view of each case\n‚Ä¢ **Status Management** - Update case status and resolution\n‚Ä¢ **Case Number Generation** - Auto-generated unique case numbers (BLT-YYYY-####)"
        },
        {
          "type": "card",
          "title": "Case Information",
          "content": "Each blotter case includes:\n\n‚Ä¢ **Case Number** - Unique identifier (e.g., BLT-2024-0001)\n‚Ä¢ **Complainant Details** - Name, address, contact information\n‚Ä¢ **Respondent Details** - Name, address, contact information\n‚Ä¢ **Incident Information** - Date, time, location, detailed description\n‚Ä¢ **Status Tracking** - Pending, Under Investigation, Resolved, Dismissed\n‚Ä¢ **Resolution Notes** - Detailed resolution information"
        },
        {
          "type": "card",
          "title": "Dashboard Integration",
          "content": "Tanod dashboard shows:\n\n‚Ä¢ Total Blotter Cases\n‚Ä¢ Pending Cases (clickable)\n‚Ä¢ Under Investigation Cases (clickable)\n‚Ä¢ Resolved Cases (clickable)\n‚Ä¢ Dismissed Cases (clickable)\n\nAll status cards are clickable and display filtered cases in interactive dialogs."
        }
      ]
    },
    {
      "id": "staff-officers-management",
      "title": "üëî Staff & Officers Management",
      "content": [
        {
          "type": "paragraph",
          "text": "Unified system for managing barangay staff and officers. All account management (staff and officers) happens in one place through the Admin panel."
        },
        {
          "type": "card",
          "title": "Key Features",
          "content": "‚Ä¢ **Every Officer Must Have an Account** - Officers are linked to user accounts via `user_id` foreign key\n‚Ä¢ **Flexible Position Assignment** - Officers can have official positions (with term dates) or staff can have manual positions\n‚Ä¢ **Resident Linking** - Officers can optionally be linked to resident records\n‚Ä¢ **Unified Interface** - All account management (staff and officers) happens in one place\n‚Ä¢ **Automatic Record Management** - System automatically creates/updates/deletes officer records when accounts are modified"
        },
        {
          "type": "card",
          "title": "Features",
          "content": "‚Ä¢ **Add Staff/Officers** - Register new staff or officers with complete information\n‚Ä¢ **Link to Residents** - Optionally link officers to resident records\n‚Ä¢ **Edit Information** - Update staff/officer details and terms\n‚Ä¢ **View All Staff/Officers** - Complete list with status\n‚Ä¢ **Term Tracking** - Track term start and end dates for officers\n‚Ä¢ **Status Management** - Active/Inactive status tracking"
        },
        {
          "type": "card",
          "title": "Staff/Officer Information",
          "content": "Records include:\n\n‚Ä¢ **Position** - Officer position (e.g., Barangay Captain, Secretary) or staff position\n‚Ä¢ **Resident Link** - Optional link to resident database (for officers)\n‚Ä¢ **Term Period** - Start date and end date (for officers)\n‚Ä¢ **Status** - Active or Inactive\n‚Ä¢ **User Account** - Linked user account for officers\n‚Ä¢ **Timestamps** - Created and updated dates"
        }
      ]
    },
    {
      "id": "dashboard",
      "title": "üìä Dashboard System",
      "content": [
        {
          "type": "paragraph",
          "text": "Role-based dashboard with interactive statistics and data visualization."
        },
        {
          "type": "card",
          "title": "Staff/Admin Dashboard",
          "content": "**Population Report:**\n‚Ä¢ Total Residents\n‚Ä¢ Male Count\n‚Ä¢ Female Count\n\n**Special Groups:**\n‚Ä¢ Senior Citizens (60+ years)\n‚Ä¢ Persons with Disabilities (PWD)\n\n**Voter Statistics:**\n‚Ä¢ Registered Voters\n‚Ä¢ Unregistered Voters\n\nAll cards are clickable and show filtered data in interactive dialogs with DataTables."
        },
        {
          "type": "card",
          "title": "Tanod Dashboard",
          "content": "**Blotter Statistics:**\n‚Ä¢ Total Blotter Cases\n‚Ä¢ Pending Cases\n‚Ä¢ Under Investigation Cases\n‚Ä¢ Resolved Cases\n‚Ä¢ Dismissed Cases\n\nAll status cards are clickable and display filtered cases in interactive dialogs."
        },
        {
          "type": "card",
          "title": "Interactive Features",
          "content": "‚Ä¢ **Clickable Cards** - Click any statistic card to view filtered data\n‚Ä¢ **DataTables Integration** - Sortable, searchable data tables in dialogs\n‚Ä¢ **AJAX Loading** - Fast, seamless data loading without page refresh\n‚Ä¢ **Modern UI** - jQuery UI dialogs with Tailwind CSS styling"
        }
      ]
    },
    {
      "id": "user-management",
      "title": "üßë‚Äçüíº User Management",
      "content": [
        {
          "type": "paragraph",
          "text": "Admin-only feature for managing system users and accounts."
        },
        {
          "type": "card",
          "title": "Features",
          "content": "‚Ä¢ **Add New Users** - Create accounts for Staff, Tanod, or Admin roles\n‚Ä¢ **Edit User Accounts** - Update user information and roles\n‚Ä¢ **View All Users** - Complete list of all system users\n‚Ä¢ **Role Assignment** - Assign appropriate roles to users\n‚Ä¢ **Account Status** - Manage active/inactive account status"
        },
        {
          "type": "card",
          "title": "User Information",
          "content": "User accounts include:\n\n‚Ä¢ Full Name\n‚Ä¢ Username\n‚Ä¢ Password (hashed)\n‚Ä¢ Role (Admin, Staff, Tanod)\n‚Ä¢ Status (Active/Inactive)\n‚Ä¢ Profile Picture (optional)\n‚Ä¢ Position (for staff)\n‚Ä¢ Timestamps"
        }
      ]
    },
    {
      "id": "profile-settings",
      "title": "‚öôÔ∏è Profile Settings",
      "content": [
        {
          "type": "paragraph",
          "text": "User profile management and settings page accessible to all users."
        },
        {
          "type": "card",
          "title": "Features",
          "content": "‚Ä¢ **Update Profile Information** - Edit name and username\n‚Ä¢ **Change Password** - Update account password\n‚Ä¢ **Profile Picture Upload** - Upload and manage profile pictures\n‚Ä¢ **Image Preview** - Preview profile picture before saving\n‚Ä¢ **Profile Display** - Profile picture shown in navbar"
        },
        {
          "type": "card",
          "title": "Profile Picture",
          "content": "‚Ä¢ Supported formats: JPEG, PNG, GIF\n‚Ä¢ Maximum file size: 2MB\n‚Ä¢ Automatic image optimization\n‚Ä¢ Displayed in navigation bar\n‚Ä¢ Stored in `/uploads/profiles/` directory"
        }
      ]
    },
    {
      "id": "security-features",
      "title": "üîí Security Features",
      "content": [
        {
          "type": "card",
          "title": "SQL Injection Protection",
          "content": "**Critical Security**\n\nAll database queries use prepared statements to prevent SQL injection attacks:\n\n‚Ä¢ All queries use `prepare()` and `bind_param()`\n‚Ä¢ No string concatenation in SQL queries\n‚Ä¢ Parameterized queries throughout the system\n‚Ä¢ Input validation before database operations"
        },
        {
          "type": "card",
          "title": "XSS Protection",
          "content": "‚Ä¢ All user input sanitized with `htmlspecialchars()`\n‚Ä¢ Dialog message functions properly escape HTML\n‚Ä¢ Unique dialog IDs generated to prevent conflicts\n‚Ä¢ Improved input validation throughout the system"
        },
        {
          "type": "card",
          "title": "Additional Security",
          "content": "‚Ä¢ **Role-Based Access Control** - Strict permission system\n‚Ä¢ **Password Hashing** - bcrypt password hashing\n‚Ä¢ **Session Management** - Secure session handling\n‚Ä¢ **Input Validation** - Comprehensive form validation\n‚Ä¢ **File Upload Security** - Validated file types and sizes"
        }
      ]
    },
    {
      "id": "technical-specs",
      "title": "üîß Technical Specifications",
      "content": [
        {
          "type": "paragraph",
          "text": "Technical details and system requirements."
        },
        {
          "type": "card",
          "title": "Technology Stack",
          "content": "‚Ä¢ **Backend:** PHP with MySQLi\n‚Ä¢ **Frontend:** HTML5, CSS3, JavaScript\n‚Ä¢ **UI Framework:** Tailwind CSS\n‚Ä¢ **JavaScript Libraries:** jQuery, jQuery UI, DataTables.js\n‚Ä¢ **Server:** Apache with .htaccess URL rewriting\n‚Ä¢ **Database:** MySQL/MariaDB"
        },
        {
          "type": "card",
          "title": "Performance Features",
          "content": "‚Ä¢ **Optimized Database Queries** - Single query for dashboard statistics\n‚Ä¢ **AJAX Data Loading** - Asynchronous data loading\n‚Ä¢ **DataTables Integration** - Client-side sorting and searching\n‚Ä¢ **Efficient Caching** - Optimized asset loading"
        },
        {
          "type": "card",
          "title": "URL Structure",
          "content": "Clean URLs without .php extensions:\n\n‚Ä¢ `/dashboard` - Dashboard page\n‚Ä¢ `/resident/` - Resident management\n‚Ä¢ `/certificate/` - Certificate management\n‚Ä¢ `/blotter/` - Blotter system\n‚Ä¢ `/admin/` - Staff & Officers management\n‚Ä¢ `/profile` - Profile settings"
        },
        {
          "type": "card",
          "title": "Migration System",
          "content": "**Organized Migration Runner**\n\nEnhanced migration system with better organization and dual-mode support:\n\n‚Ä¢ **CLI Mode** - Run migrations from command line: `php schema/run.php`\n‚Ä¢ **Browser Mode** - Run migrations via web interface: `/schema/run` (admin only)\n‚Ä¢ **Organized by Type** - Migrations grouped into:\n  - Initial Setup (base tables)\n  - Feature Additions (new columns/features)\n  - Structural Changes (major refactoring)\n‚Ä¢ **Human-Readable Output** - Clear formatting for easy debugging\n‚Ä¢ **Error Handling** - Better error reporting and summary statistics"
        }
      ]
    }
  ]
}

